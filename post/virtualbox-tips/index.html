<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        VirtualBox Tips
    </title>
    <link rel="icon" href="/dulkanggg/images/logo.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/dulkanggg/css/style.css">
</head>

<body>
    <div class="container">
        <header>
            <a href="/dulkanggg/" class="logo">
                <img src="/dulkanggg/images/logo.png" alt="Logo"
                    style="height: 40px; vertical-align: middle; margin-right: 10px;">
                Dulkanggg's Corner
            </a>
            <nav>
                <a href="/dulkanggg/">Home</a>
                <a href="/dulkanggg/search.html">Search</a>
                <a href="/dulkanggg/about">About</a>
                <a href="/dulkanggg/rss">RSS</a>
            </nav>
        </header>

    <article class="post-content">
        <h1 style="color: #e2b714;">
            VirtualBox Tips
        </h1>
        <div style="color: var(--accent-color); margin-bottom: 20px;">
            <span>
                2025-12-06
            </span>
            
                | Tags:
                
                    <a href="/dulkanggg/tags/virtualbox"
                        style="color: var(--accent-color); text-decoration: underline;">
                        virtualbox
                    </a>
                    
                    <a href="/dulkanggg/tags/ubuntu"
                        style="color: var(--accent-color); text-decoration: underline;">
                        ubuntu
                    </a>
                    
                    <a href="/dulkanggg/tags/bilingual"
                        style="color: var(--accent-color); text-decoration: underline;">
                        bilingual
                    </a>
                    
                        
        </div>

        <div>
            <blockquote>
<p><em>ğŸ‡»ğŸ‡³ Báº£n tiáº¿ng Viá»‡t náº±m á»Ÿ phÃ­a dÆ°á»›i bÃ i viáº¿t (Vietnamese version is available below).</em></p>
</blockquote>
<hr>
<h3>Essential &quot;Lifesaver&quot; Tips &amp; Tricks for VirtualBox Users</h3>
<p>You&#39;re probably no stranger to VirtualBox, right? Installation guides are everywhere; a quick Google search gives you tons of results. So, I won&#39;t bore you by &quot;lecturing&quot; on dry theory here.</p>
<p>Instead, Iâ€™ll summarize the &quot;must-have&quot; steps to take immediately after installation to avoid silly mistakes, plus a few cool tricks you&#39;ll inevitably look for sooner or later. These are my personal notes to save myself from pulling my hair out every time a VM acts up. Let&#39;s dive in! ğŸš€</p>
<h3>1. The &quot;3-Step Combo&quot; to Do Immediately After Installation</h3>
<p>Do this, and I guarantee your machine will run smoothly, copy-paste will fly, and USBs will connect seamlessly.</p>
<p><strong>Step 1: Grant Permissions to the User (On the Host machine)</strong></p>
<p>Run this command to add your user to the <code>vboxusers</code> group. Remember to log out and log back in for it to take effect.</p>
<pre><code class="language-bash">usermod -aG vboxusers username
</code></pre>
<p><strong>Step 2: Install the Extension Pack</strong></p>
<p>Download this from the VirtualBox homepage; just double-click to install it.</p>
<p><strong>Step 3: Install Guest Additions (On the Virtual Machine - Guest)</strong></p>
<p>Inside your Linux VM, install the required packages:</p>
<pre><code class="language-bash">sudo apt install build-essential dkms linux-headers-$(uname -r)
</code></pre>
<p>Then, on the VirtualBox menu bar, select <strong>Insert Guest Additions CD image</strong> and run the file <code>./VBoxLinuxAdditions.run</code> as root.</p>
<p>âœ… <strong>Result:</strong> Full screen, shared folders, bi-directional copy/paste, and smooth USB support!</p>
<h3>2. Tips to &quot;Slim Down&quot; Your .VDI Files ğŸ“‰</h3>
<p>After using it for a while, your virtual hard disk file (<code>.vdi</code>) keeps bloating up even if you&#39;ve deleted data inside. Don&#39;t worry, here is how to squeeze it back down:</p>
<p><strong>ğŸ‘‰ For Linux Guests:</strong></p>
<ul>
<li><strong>On the Guest:</strong> Zero-out the free space.</li>
</ul>
<pre><code class="language-bash">dd if=/dev/zero of=/var/tmp/bigemptyfile bs=4096k ; rm /var/tmp/bigemptyfile
</code></pre>
<blockquote>
<p><strong>Note:</strong> Grab a coffee, this takes a little while.</p>
</blockquote>
<ul>
<li><strong>On the Host:</strong> Compact the file.</li>
</ul>
<pre><code class="language-bash"># For VirtualBox &gt;= 6.1.4
VBoxManage modifymedium disk /path/to/thedisk.vdi --compact
</code></pre>
<p><strong>ğŸ‘‰ For Windows Guests:</strong></p>
<ul>
<li><strong>On the Guest:</strong> Run Disk Defragmentation. Then download the <strong>SDelete</strong> tool and run this in CMD:</li>
</ul>
<pre><code class="language-cmd">sdelete.exe c: -z
</code></pre>
<ul>
<li><strong>On the Host:</strong> Similar to above.</li>
</ul>
<pre><code class="language-bash">VBoxManage modifymedium disk /path/to/thedisk.vdi --compact
</code></pre>
<h3>3. Change Format &amp; Increase Disk Size ğŸ’¾</h3>
<p><strong>ğŸ”„ Convert from VMDK to VDI (for easier compaction):</strong></p>
<p>If you accidentally created a VMDK drive but want to compress it, you need to convert it to VDI first:</p>
<pre><code class="language-bash">VBoxManage clonehd &quot;source.vmdk&quot; &quot;cloned.vdi&quot; --format vdi
</code></pre>
<p>(Remember to <strong>backup first</strong> just to be safe)</p>
<p><strong>â¬†ï¸ Increase Disk Capacity (Resize):</strong></p>
<p>Virtual disk out of space? Don&#39;t create a new machine, run this command to expand it (e.g., to 50GB):</p>
<pre><code class="language-bash">VBoxManage modifyhd &quot;disk.vdi&quot; --resize 51200
</code></pre>
<p>Then go into the VM and use <strong>GParted</strong> to extend the partition, and you&#39;re done!</p>
<h3>4. Fix the &quot;Slow as a Snail&quot; Windows VM Issue ğŸ¢</h3>
<p>If your Windows VM is lagging terribly and you see a green turtle icon in the status bar, the main culprit is <strong>Hyper-V</strong>.</p>
<p><strong>How to fix it:</strong></p>
<ol>
<li>Disable the <strong>Core Isolation</strong> feature in Windows Defender.</li>
<li>Disable Hyper-V using this PowerShell command (run as Admin):</li>
</ol>
<pre><code class="language-powershell">bcdedit /set hypervisorlaunchtype off
</code></pre>
<ol start="3">
<li>Reboot the machine:</li>
</ol>
<pre><code class="language-powershell">shutdown -s -t 2
</code></pre>
<p>No more turtle; your machine will run like the wind again! ğŸ’¨</p>
<hr>
<h3>Bá» tÃºi ngay loáº¡t Tips &amp; Tricks &quot;cá»©u cÃ¡nh&quot; cho dÃ¢n chÆ¡i VirtualBox</h3>
<p>Má»i ngÆ°á»i cháº¯c khÃ´ng láº¡ gÃ¬ vá»›i VirtualBox rá»“i Ä‘Ãºng khÃ´ng? TÃ i liá»‡u cÃ i Ä‘áº·t thÃ¬ Ä‘áº§y ráº«y trÃªn máº¡ng, Google cÃ¡i lÃ  ra cáº£ tÃ¡. Tháº¿ nÃªn bÃ i nÃ y mÃ¬nh sáº½ khÃ´ng ngá»“i &quot;giáº£ng Ä‘áº¡o&quot; láº¡i má»› lÃ½ thuyáº¿t khÃ´ khan Ä‘Ã³ Ä‘Ã¢u.</p>
<p>Thay vÃ o Ä‘Ã³, mÃ¬nh sáº½ tÃ³m táº¯t láº¡i nhá»¯ng thao tÃ¡c &quot;must-have&quot; sau khi cÃ i Ä‘áº·t Ä‘á»ƒ trÃ¡nh máº¥y lá»—i ngá»› ngáº©n, cá»™ng thÃªm vÃ i thá»§ thuáº­t cá»±c hay ho mÃ  sá»›m muá»™n gÃ¬ báº¡n cÅ©ng sáº½ cáº§n tÃ¬m kiáº¿m. ÄÃ¢y lÃ  nhá»¯ng note mÃ¬nh tá»± rÃºt ra Ä‘á»ƒ Ä‘á»¡ pháº£i vÃ² Ä‘áº§u bá»©t tai má»—i khi mÃ¡y áº£o dá»Ÿ chá»©ng. Báº¯t Ä‘áº§u nÃ o! ğŸš€</p>
<h3>1. &quot;Combo 3 bÆ°á»›c&quot; cáº§n lÃ m ngay sau khi cÃ i Ä‘áº·t</h3>
<p>LÃ m xong cÃ¡i nÃ y Ä‘áº£m báº£o mÃ¡y cháº¡y mÆ°á»£t, copy-paste áº§m áº§m, nháº­n USB thoáº£i mÃ¡i luÃ´n.</p>
<p><strong>BÆ°á»›c 1: Cáº¥p quyá»n cho User (TrÃªn mÃ¡y tháº­t - Host)</strong></p>
<p>Cháº¡y lá»‡nh nÃ y Ä‘á»ƒ thÃªm user cá»§a báº¡n vÃ o nhÃ³m <code>vboxusers</code>. Nhá»› log out rá»“i log in láº¡i má»›i Äƒn nha.</p>
<pre><code class="language-bash">usermod -aG vboxusers username
</code></pre>
<p><strong>BÆ°á»›c 2: CÃ i Extension Pack</strong></p>
<p>CÃ¡i nÃ y táº£i trÃªn trang chá»§ VirtualBox, click Ä‘Ãºp lÃ  cÃ i thÃ´i.</p>
<p><strong>BÆ°á»›c 3: CÃ i Guest Additions (TrÃªn mÃ¡y áº£o - Guest)</strong></p>
<p>VÃ o mÃ¡y áº£o Linux, cÃ i cÃ¡c gÃ³i cáº§n thiáº¿t:</p>
<pre><code class="language-bash">sudo apt install build-essential dkms linux-headers-$(uname -r)
</code></pre>
<p>Sau Ä‘Ã³ trÃªn thanh menu VirtualBox, chá»n <strong>Insert Guest Additions CD image</strong> vÃ  cháº¡y file <code>./VBoxLinuxAdditions.run</code> vá»›i quyá»n root.</p>
<p>âœ… <strong>Káº¿t quáº£:</strong> Full mÃ n hÃ¬nh, share folder, copy/paste 2 chiá»u, nháº­n USB ngon lÃ nh!</p>
<h3>2. BÃ­ kÃ­p &quot;giáº£m cÃ¢n&quot; cho file .VDI ğŸ“‰</h3>
<p>DÃ¹ng má»™t thá»i gian, file á»• cá»©ng áº£o (<code>.vdi</code>) cá»© phÃ¬nh to ra dÃ¹ bÃªn trong báº¡n Ä‘Ã£ xÃ³a bá»›t dá»¯ liá»‡u. Äá»«ng lo, Ä‘Ã¢y lÃ  cÃ¡ch Ã©p nÃ³ nhá» láº¡i:</p>
<p><strong>ğŸ‘‰ Vá»›i mÃ¡y áº£o Linux:</strong></p>
<ul>
<li><strong>TrÃªn mÃ¡y áº£o:</strong> Láº¥p Ä‘áº§y chá»— trá»‘ng báº±ng sá»‘ 0 (Zero-out free space).</li>
</ul>
<pre><code class="language-bash">dd if=/dev/zero of=/var/tmp/bigemptyfile bs=4096k ; rm /var/tmp/bigemptyfile
</code></pre>
<blockquote>
<p><strong>LÆ°u Ã½:</strong> Chá» xÃ­u nhÃ©, hÆ¡i lÃ¢u Ä‘áº¥y.</p>
</blockquote>
<ul>
<li><strong>TrÃªn mÃ¡y tháº­t (Host):</strong> NÃ©n file láº¡i.</li>
</ul>
<pre><code class="language-bash"># Vá»›i VirtualBox &gt;= 6.1.4
VBoxManage modifymedium disk /path/to/thedisk.vdi --compact
</code></pre>
<p><strong>ğŸ‘‰ Vá»›i mÃ¡y áº£o Windows:</strong></p>
<ul>
<li><strong>TrÃªn mÃ¡y áº£o:</strong> Cháº¡y chá»‘ng phÃ¢n máº£nh á»• Ä‘Ä©a (Defrag). Sau Ä‘Ã³ táº£i cÃ´ng cá»¥ <strong>SDelete</strong> vÃ  cháº¡y CMD:</li>
</ul>
<pre><code class="language-cmd">sdelete.exe c: -z
</code></pre>
<ul>
<li><strong>TrÃªn mÃ¡y tháº­t:</strong> TÆ°Æ¡ng tá»± nhÆ° trÃªn.</li>
</ul>
<pre><code class="language-bash">VBoxManage modifymedium disk /path/to/thedisk.vdi --compact
</code></pre>
<h3>3. Äá»•i Ä‘á»‹nh dáº¡ng &amp; TÄƒng dung lÆ°á»£ng á»• cá»©ng ğŸ’¾</h3>
<p><strong>ğŸ”„ Chuyá»ƒn tá»« VMDK sang VDI (Ä‘á»ƒ dá»… nÃ©n dung lÆ°á»£ng):</strong></p>
<p>Náº¿u lá»¡ táº¡o á»• VMDK mÃ  muá»‘n nÃ©n, báº¡n pháº£i convert sang VDI trÆ°á»›c:</p>
<pre><code class="language-bash">VBoxManage clonehd &quot;source.vmdk&quot; &quot;cloned.vdi&quot; --format vdi
</code></pre>
<p>(Nhá»› <strong>backup trÆ°á»›c</strong> cho cháº¯c cÃº nha)</p>
<p><strong>â¬†ï¸ TÄƒng dung lÆ°á»£ng á»• cá»©ng (Resize):</strong></p>
<p>á»” cá»©ng áº£o bá»‹ Ä‘áº§y? Äá»«ng táº¡o mÃ¡y má»›i, cháº¡y lá»‡nh nÃ y Ä‘á»ƒ má»Ÿ rá»™ng (VÃ­ dá»¥ lÃªn 50GB):</p>
<pre><code class="language-bash">VBoxManage modifyhd &quot;disk.vdi&quot; --resize 51200
</code></pre>
<p>Sau Ä‘Ã³ vÃ o mÃ¡y áº£o dÃ¹ng <strong>GParted</strong> Ä‘á»ƒ kÃ©o dÃ£n phÃ¢n vÃ¹ng ra lÃ  xong!</p>
<h3>4. Fix lá»—i mÃ¡y áº£o Windows &quot;cháº­m nhÆ° rÃ¹a&quot; ğŸ¢</h3>
<p>Náº¿u báº¡n tháº¥y mÃ¡y áº£o Windows lag kinh khá»§ng vÃ  dÆ°á»›i thanh tráº¡ng thÃ¡i cÃ³ hiá»‡n icon con rÃ¹a mÃ u xanh, thÃ¬ thá»§ pháº¡m chÃ­nh lÃ  <strong>Hyper-V</strong>.</p>
<p><strong>CÃ¡ch xá»­ lÃ½:</strong></p>
<ol>
<li>Táº¯t tÃ­nh nÄƒng <strong>Core Isolation</strong> trong Windows Defender.</li>
<li>Táº¯t <strong>Hyper-V</strong> báº±ng lá»‡nh PowerShell (cháº¡y quyá»n Admin):</li>
</ol>
<pre><code class="language-powershell">bcdedit /set hypervisorlaunchtype off
</code></pre>
<ol start="3">
<li>Reboot láº¡i mÃ¡y:</li>
</ol>
<pre><code class="language-powershell">shutdown -s -t 2
</code></pre>
<p>Háº¿t rÃ¹a lÃ  mÃ¡y láº¡i cháº¡y nhanh nhÆ° giÃ³ ngay! ğŸ’¨</p>

        </div>
    </article>

    <div style="margin-top: 40px;">
        <a href="/dulkanggg/">&larr; Back to Home</a>
    </div>

    <footer>
    <p>&copy; 2025 Khang. All rights reserved.</p>
    <div class="social-links">
        <a href="https://github.com/khanchannn" target="_blank">GitHub</a>
        <a href="https://www.facebook.com/dulkanggg1504/" target="_blank">Facebook</a>
        <a href="mailto:dulkanggg1504@gmail.com">Email</a>
    </div>
</footer>
</div> <!-- End container -->
</body>

</html>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const codeBlocks = document.querySelectorAll('.post-content pre');

                codeBlocks.forEach(pre => {
                    const button = document.createElement('button');
                    button.className = 'copy-btn';
                    button.textContent = 'Copy';

                    button.addEventListener('click', () => {
                        const code = pre.querySelector('code').innerText;
                        navigator.clipboard.writeText(code).then(() => {
                            button.textContent = 'Copied!';
                            setTimeout(() => {
                                button.textContent = 'Copy';
                            }, 2000);
                        }).catch(err => {
                            console.error('Failed to copy:', err);
                            button.textContent = 'Error';
                        });
                    });

                    pre.appendChild(button);
                });
            });
        </script>