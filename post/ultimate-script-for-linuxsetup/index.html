<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        A Friendly Guide to Setting Up a Fresh Ubuntu Server
    </title>
    <link rel="icon" href="/dulkanggg/images/logo.png" type="image/png">
    <link rel="stylesheet" href="/dulkanggg/css/style.css">
</head>

<body>
    <div class="container">
        <header>
            <a href="/dulkanggg/" class="logo">
                <img src="/dulkanggg/images/logo.png" alt="Logo"
                    style="height: 40px; vertical-align: middle; margin-right: 10px;">
                Dulkanggg's Corner
            </a>
            <nav>
                <a href="/dulkanggg/">Home</a>
                <a href="/dulkanggg/search.html">Search</a>
                <a href="/dulkanggg/about">About</a>
                <a href="/dulkanggg/rss">RSS</a>
            </nav>
        </header>

    <article class="post-content">
        <h1 style="color: #e2b714;">
            A Friendly Guide to Setting Up a Fresh Ubuntu Server
        </h1>
        <div style="color: var(--accent-color); margin-bottom: 20px;">
            <span>
                2025-12-01
            </span>
            
                | Tags:
                
                    <a href="/dulkanggg/tags/ubuntu"
                        style="color: var(--accent-color); text-decoration: underline;">
                        ubuntu
                    </a>
                    
                    <a href="/dulkanggg/tags/vps"
                        style="color: var(--accent-color); text-decoration: underline;">
                        vps
                    </a>
                    
                    <a href="/dulkanggg/tags/automation"
                        style="color: var(--accent-color); text-decoration: underline;">
                        automation
                    </a>
                    
                    <a href="/dulkanggg/tags/docker"
                        style="color: var(--accent-color); text-decoration: underline;">
                        docker
                    </a>
                    
                    <a href="/dulkanggg/tags/bilingual"
                        style="color: var(--accent-color); text-decoration: underline;">
                        bilingual
                    </a>
                    
                        
        </div>

        <div>
            <blockquote>
<p><em>üáªüá≥ B·∫£n ti·∫øng Vi·ªát n·∫±m ·ªü ph√≠a d∆∞·ªõi b√†i vi·∫øt (Vietnamese version is available below).</em></p>
</blockquote>
<hr>
<h3>The &quot;I Forgot to Install Git Again&quot; Solution</h3>
<p>Hey everyone!</p>
<p>We‚Äôve all been there. You just spun up a fresh Ubuntu VPS or a new Virtual Machine. You‚Äôre excited to start deploying your project. You SSH in, ready to rock, you type <code>git clone...</code> and boom:</p>
<blockquote>
<p><code>bash: git: command not found</code></p>
</blockquote>
<p><strong>Ugh. Frustrating, right?</strong></p>
<p>Then you install Git. Then you try to unzip a file. Command not found. Then you realize <code>htop</code> isn&#39;t there. And worse, halfway through the night, you remember you completely forgot to configure the firewall, leaving your server wide open.</p>
<p>Honestly, remembering every single utility and security package for every new server is a pain. It‚Äôs repetitive, and manual work leads to mistakes.</p>
<p>That‚Äôs why I decided to stop doing it manually and wrote a <strong>&quot;One-Click&quot; script</strong> to handle the boring stuff for me. I‚Äôm sharing it here so you can save time (and sanity) too.</p>
<h4>The Essentials: What We Are Installing</h4>
<p>Before we get to the script, here is the &quot;Survival Kit&quot; I believe every modern Ubuntu server needs:</p>
<ol>
<li><p><strong>The Toolbox (System Utilities)</strong></p>
<ul>
<li><strong>curl &amp; wget:</strong> For downloading stuff.</li>
<li><strong>git:</strong> Because how else are you getting your code?</li>
<li><strong>vim / nano:</strong> You need to edit config files somehow.</li>
<li><strong>htop:</strong> Because the default <code>top</code> is hard to read.</li>
<li><strong>unzip &amp; net-tools:</strong> For managing archives and checking network stats (<code>ifconfig</code>).</li>
</ul>
</li>
<li><p><strong>The Bodyguards (Security)</strong></p>
<ul>
<li><strong>ufw (Uncomplicated Firewall):</strong> The easiest way to manage ports.</li>
<li><strong>fail2ban:</strong> A must-have. It watches for repeated failed login attempts (brute-force attacks) and automatically bans those IP addresses.</li>
</ul>
</li>
<li><p><strong>The Engine Room (Web &amp; Containers)</strong></p>
<ul>
<li><strong>nginx:</strong> A lightweight, high-performance web server and reverse proxy.</li>
<li><strong>docker &amp; docker-compose:</strong> It‚Äôs 2024 (almost 2025!). We shouldn&#39;t be installing messy dependencies directly on the OS anymore. Docker keeps everything clean and portable.</li>
</ul>
</li>
</ol>
<h4>The Script</h4>
<p>Here is the magic shell script. It automates everything: updates the system, installs the tools, configures the firewall to allow SSH (so you don&#39;t lock yourself out!), and sets up Docker.</p>
<p><strong>How to use it:</strong></p>
<ol>
<li>Create a file: <code>nano setup_server.sh</code></li>
<li>Paste the code below.</li>
<li>Make it executable: <code>chmod +x setup_server.sh</code></li>
<li>Run it: <code>sudo ./setup_server.sh</code></li>
</ol>
<pre><code class="language-bash">#!/bin/bash

# ==========================================
# The Ultimate Ubuntu Server Setup Script
# Author: Khang (Dulkanggg)
# ==========================================

# 1. Check for Root Privileges
if [ &quot;$EUID&quot; -ne 0 ]; then 
  echo &quot;Please run this script as root (use sudo)&quot;
  exit
fi

echo &quot;--- STARTING SYSTEM UPDATE ---&quot;
apt update &amp;&amp; apt upgrade -y

echo &quot;--- 1. INSTALLING ESSENTIAL UTILITIES ---&quot;
# Installing curl, wget, git, htop, vim, unzip, net-tools, etc.
apt install -y curl wget git htop vim nano unzip net-tools software-properties-common ca-certificates gnupg lsb-release

echo &quot;--- 2. SETTING UP SECURITY (UFW &amp; FAIL2BAN) ---&quot;
apt install -y ufw fail2ban

# Configuring Basic Firewall Rules
# IMPORTANT: We must allow SSH first to prevent locking ourselves out!
ufw default deny incoming
ufw default allow outgoing
ufw allow ssh
ufw allow 22/tcp
ufw allow 80/tcp
ufw allow 443/tcp

# Enable UFW (Auto-confirm &#39;yes&#39;)
echo &quot;y&quot; | ufw enable

echo &quot;--- 3. INSTALLING NGINX (Web Server) ---&quot;
apt install -y nginx
systemctl start nginx
systemctl enable nginx

echo &quot;--- 4. INSTALLING DOCKER &amp; DOCKER COMPOSE ---&quot;
# Add Docker&#39;s official GPG key
mkdir -p /etc/apt/keyrings
curl -fsSL [https://download.docker.com/linux/ubuntu/gpg](https://download.docker.com/linux/ubuntu/gpg) | gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# Set up the repository
echo \
  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] [https://download.docker.com/linux/ubuntu](https://download.docker.com/linux/ubuntu) \
  $(lsb_release -cs) stable&quot; | tee /etc/apt/sources.list.d/docker.list &gt; /dev/null

apt update
apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# Start Docker service
systemctl start docker
systemctl enable docker

# Add current user to Docker group (so you don&#39;t need &#39;sudo&#39; for docker commands)
# Note: This checks for the user who ran the sudo command
if [ -n &quot;$SUDO_USER&quot; ]; then
    usermod -aG docker $SUDO_USER
    echo &quot;User $SUDO_USER has been added to the docker group.&quot;
fi

echo &quot;--- SYSTEM CLEANUP ---&quot;
apt autoremove -y

echo &quot;==========================================&quot;
echo &quot;   SETUP COMPLETE! READY TO ROCK.&quot;
echo &quot;==========================================&quot;
echo &quot;Versions Installed:&quot;
echo &quot;- Nginx: $(nginx -v 2&gt;&amp;1 | cut -d &#39;/&#39; -f 2)&quot;
echo &quot;- Docker: $(docker --version)&quot;
echo &quot;- UFW Status: $(ufw status | grep &#39;Status&#39;)&quot;
echo &quot;NOTE: Please logout and login again to apply Docker group permissions.&quot;
</code></pre>
<hr>
<h3>Wrapping Up</h3>
<p>And that‚Äôs it! In about 2 minutes, you go from a blank slate to a fully secured, Docker-ready server with all the creature comforts installed.
Hopefully, this script saves you some time on your next project. Let me know if you think I missed any essential tools in the comments below!
Happy Coding!</p>
<hr>
<h3>H·ªôi ch·ª©ng &quot;Qu√™n c√†i Git&quot; v√† chi·∫øc Script c·ª©u c√°nh cho Ubuntu Server m·ªõi</h3>
<p>Ch√†o m·ªçi ng∆∞·ªùi,</p>
<p>Ch·∫Øc h·∫≥n ai trong ch√∫ng ta c≈©ng t·ª´ng r∆°i v√†o c·∫£nh n√†y √≠t nh·∫•t m·ªôt (ho·∫∑c nhi·ªÅu) l·∫ßn. B·∫°n v·ª´a thu√™ ƒë∆∞·ª£c m·ªôt con VPS ngon ngh·∫ª, ho·∫∑c v·ª´a t·∫°o xong m·ªôt m√°y ·∫£o (VM) Ubuntu m·ªõi c·ª©ng ƒë·ªÉ l√†m lab. T√¢m tr·∫°ng ƒëang h·ª´ng h·ª±c kh√≠ th·∫ø, SSH v√†o server, g√µ l·ªánh ƒë·∫ßu ti√™n ƒë·ªãnh k√©o source v·ªÅ:</p>
<p><code>git clone ...</code></p>
<p>V√† h·ªá th·ªëng tr·∫£ v·ªÅ m·ªôt c√¢u xanh r·ªùn:</p>
<blockquote>
<p><code>bash: git: command not found</code></p>
</blockquote>
<p><strong>C·ª•t h·ª©ng th·ª±c s·ª±!</strong></p>
<p>Th·∫ø l√† l·∫°i ph·∫£i ng·ªìi <code>apt install git</code>. Xong xu√¥i, ƒë·ªãnh gi·∫£i n√©n c√°i file data th√¨ l·∫°i thi·∫øu <code>unzip</code>. Mu·ªën xem RAM, CPU th·∫ø n√†o cho tr·ª±c quan th√¨ nh·ªõ ra ch∆∞a c√†i <code>htop</code>. T·ªá h∆°n n·ªØa l√† h√¨ h·ª•c c·∫£ ƒë√™m deploy xong, s√°ng h√¥m sau m·ªõi t√° h·ªèa nh·∫≠n ra m√¨nh... qu√™n b·∫≠t t∆∞·ªùng l·ª≠a (Firewall), server &quot;tr·∫ßn tr·ª•i&quot; gi·ªØa internet.</p>
<p>Vi·ªác nh·ªõ h·∫øt t·∫•t c·∫£ nh·ªØng g√≥i ph·∫ßn m·ªÅm (packages) l·∫∑t v·∫∑t m·ªói khi c√†i l·∫°i m√°y th·ª±c s·ª± r·∫•t phi·ªÅn ph·ª©c v√† t·ªën th·ªùi gian. M√† l√†m th·ªß c√¥ng th√¨ ki·ªÉu g√¨ c≈©ng s√≥t.</p>
<p>ƒê√≥ l√† l√Ω do m√¨nh quy·∫øt ƒë·ªãnh kh√¥ng l√†m &quot;th·ªß c√¥ng m·ªπ ngh·ªá&quot; n·ªØa. Thay v√†o ƒë√≥, m√¨nh gom t·∫•t c·∫£ v√†o m·ªôt script duy nh·∫•t. Ch·ªâ c·∫ßn ch·∫°y m·ªôt d√≤ng l·ªánh, ƒëi pha c·ªëc c√† ph√™, quay l·∫°i l√† ƒë√£ c√≥ m·ªôt server &quot;full option&quot; ƒë·ªÉ s·∫µn s√†ng chi·∫øn ƒë·∫•u.</p>
<p>H√¥m nay m√¨nh chia s·∫ª l·∫°i script n√†y cho anh em, hy v·ªçng gi√∫p m·ªçi ng∆∞·ªùi ti·∫øt ki·ªám th·ªùi gian (v√† ƒë·ª° b·ª±c m√¨nh).</p>
<h4>B·ªô &quot;ƒë·ªì ngh·ªÅ&quot; sinh t·ªìn (Survival Kit) g·ªìm nh·ªØng g√¨?</h4>
<p>Tr∆∞·ªõc khi ƒëi v√†o script, ƒëi·ªÉm qua xem ch√∫ng ta s·∫Ω c√†i nh·ªØng g√¨ v√† t·∫°i sao n√≥ c·∫ßn thi·∫øt nh√©:</p>
<p><strong>1. Nh√≥m C√¥ng c·ª• (System Utilities) - &quot;Thi·∫øu th√¨ r·∫•t b·ª±c&quot;</strong></p>
<ul>
<li><strong>curl &amp; wget:</strong> ƒê·ªÉ t·∫£i file, test API.</li>
<li><strong>git:</strong> Kh√¥ng c√≥ c√°i n√†y th√¨ l·∫•y code ki·ªÉu g√¨?</li>
<li><strong>vim / nano:</strong> ƒê·ªÉ s·ª≠a file config nhanh g·ªçn.</li>
<li><strong>htop:</strong> Xem t√†i nguy√™n m√°y (RAM/CPU) s∆∞·ªõng h∆°n l·ªánh <code>top</code> m·∫∑c ƒë·ªãnh nhi·ªÅu.</li>
<li><strong>unzip &amp; net-tools:</strong> Gi·∫£i n√©n file v√† check IP/Port (<code>ifconfig</code>, <code>netstat</code>).</li>
</ul>
<p><strong>2. Nh√≥m V·ªá sƒ© (Security)</strong></p>
<ul>
<li><strong>ufw:</strong> T∆∞·ªùng l·ª≠a ƒë∆°n gi·∫£n nh·∫•t qu·∫£ ƒë·∫•t. ƒê√≥ng h·∫øt c√°c c·ª≠a, ch·ªâ m·ªü c·ª≠a cho m√¨nh v√†o th√¥i.</li>
<li><strong>fail2ban:</strong> Th·∫±ng n√†y c·ª±c hay. N√≥ s·∫Ω canh c·ª≠a SSH, ai g√µ sai m·∫≠t kh·∫©u nhi·ªÅu l·∫ßn l√† n√≥ ch·∫∑n (ban) IP ƒë√≥ lu√¥n. Ch·ªëng d√≤ m·∫≠t kh·∫©u c·ª±c t·ªët.</li>
</ul>
<p><strong>3. Nh√≥m V·∫≠n h√†nh (Engine Room)</strong></p>
<ul>
<li><strong>nginx:</strong> Web server nh·∫π, l√†m Reverse Proxy c·ª±c m∆∞·ª£t.</li>
<li><strong>docker &amp; docker-compose:</strong> Gi·ªù l√† th·ªùi ƒë·∫°i c·ªßa Container r·ªìi. C√†i database, redis hay app th√¨ c·ª© ƒë√≥ng v√†o Docker cho s·∫°ch m√°y, ƒë·ª° xung ƒë·ªôt th∆∞ vi·ªán.</li>
</ul>
<hr>
<h4>Script &quot;One-Click&quot; (T·ª± ƒë·ªông h√≥a)</h4>
<p>ƒê√¢y l√† ƒëo·∫°n script bash s·∫Ω l√†m h·∫øt m·ªçi vi·ªác t·ª´ A-Z: c·∫≠p nh·∫≠t h·ªá th·ªëng, c√†i tool, v√† quan tr·ªçng nh·∫•t l√† c·∫•u h√¨nh Firewall chu·∫©n ƒë·ªÉ b·∫°n kh√¥ng b·ªã... t·ª± nh·ªët m√¨nh ·ªü ngo√†i (do ch·∫∑n nh·∫ßm port SSH).</p>
<p><strong>C√°ch d√πng:</strong></p>
<ol>
<li>T·∫°o file m·ªõi: <code>nano setup_server.sh</code></li>
<li>Copy n·ªôi dung b√™n d∆∞·ªõi d√°n v√†o.</li>
<li>C·∫•p quy·ªÅn ch·∫°y: <code>chmod +x setup_server.sh</code></li>
<li>Ch·∫°y script (c·∫ßn quy·ªÅn root): <code>sudo ./setup_server.sh</code></li>
</ol>
<pre><code class="language-bash">#!/bin/bash

# ==========================================
# Script C√†i ƒë·∫∑t Ubuntu Server &quot;Full Option&quot;
# T√°c gi·∫£: Khang (Dulkanggg)
# ==========================================

# 1. Ki·ªÉm tra xem c√≥ ph·∫£i ƒëang ch·∫°y b·∫±ng quy·ªÅn Root kh√¥ng
if [ &quot;$EUID&quot; -ne 0 ]; then 
  echo &quot;L·ªói: B·∫°n ph·∫£i ch·∫°y script n√†y b·∫±ng quy·ªÅn root (sudo)&quot;
  exit
fi

echo &quot;--- B·∫ÆT ƒê·∫¶U C·∫¨P NH·∫¨T H·ªÜ TH·ªêNG (Ng·ªìi ch·ªù x√≠u nh√©...) ---&quot;
apt update &amp;&amp; apt upgrade -y

echo &quot;--- 1. C√ÄI ƒê·∫∂T C√îNG C·ª§ C∆† B·∫¢N (Utilities) ---&quot;
# M·∫•y c√°i n√†y thi·∫øu l√† r·∫•t kh√≥ ch·ªãu
apt install -y curl wget git htop vim nano unzip net-tools software-properties-common ca-certificates gnupg lsb-release

echo &quot;--- 2. C√ÄI ƒê·∫∂T B·∫¢O M·∫¨T (UFW &amp; FAIL2BAN) ---&quot;
apt install -y ufw fail2ban

# C·∫•u h√¨nh T∆∞·ªùng l·ª≠a (Firewall)
# QUAN TR·ªåNG: Ph·∫£i m·ªü port SSH (22) tr∆∞·ªõc, kh√¥ng l√† m·∫•t k·∫øt n·ªëi lu√¥n!
ufw default deny incoming  # Ch·∫∑n t·∫•t c·∫£ chi·ªÅu v√†o
ufw default allow outgoing # Cho ph√©p t·∫•t c·∫£ chi·ªÅu ra
ufw allow ssh              # M·ªü c·ªïng SSH
ufw allow 22/tcp
ufw allow 80/tcp           # M·ªü c·ªïng Web (HTTP)
ufw allow 443/tcp          # M·ªü c·ªïng Web (HTTPS)

# K√≠ch ho·∫°t UFW (T·ª± ƒë·ªông ch·ªçn &#39;yes&#39;)
echo &quot;y&quot; | ufw enable

echo &quot;--- 3. C√ÄI ƒê·∫∂T NGINX (Web Server) ---&quot;
apt install -y nginx
systemctl start nginx
systemctl enable nginx

echo &quot;--- 4. C√ÄI ƒê·∫∂T DOCKER &amp; DOCKER COMPOSE ---&quot;
# Th√™m key ch√≠nh th·ª©c c·ªßa Docker
mkdir -p /etc/apt/keyrings
curl -fsSL [https://download.docker.com/linux/ubuntu/gpg](https://download.docker.com/linux/ubuntu/gpg) | gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# Thi·∫øt l·∫≠p repository t·∫£i v·ªÅ
echo \
  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] [https://download.docker.com/linux/ubuntu](https://download.docker.com/linux/ubuntu) \
  $(lsb_release -cs) stable&quot; | tee /etc/apt/sources.list.d/docker.list &gt; /dev/null

apt update
apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# B·∫≠t Docker service
systemctl start docker
systemctl enable docker

# Th√™m user hi·ªán t·∫°i v√†o nh√≥m docker (ƒë·ªÉ g√µ l·ªánh docker kh√¥ng c·∫ßn th√™m sudo)
if [ -n &quot;$SUDO_USER&quot; ]; then
    usermod -aG docker $SUDO_USER
    echo &quot;ƒê√£ th√™m user $SUDO_USER v√†o nh√≥m docker.&quot;
fi

echo &quot;--- D·ªåN D·∫∏P R√ÅC H·ªÜ TH·ªêNG ---&quot;
apt autoremove -y

echo &quot;==========================================&quot;
echo &quot;   C√ÄI ƒê·∫∂T HO√ÄN T·∫§T! CHI·∫æN TH√îI.&quot;
echo &quot;==========================================&quot;
echo &quot;C√°c phi√™n b·∫£n ƒë√£ c√†i:&quot;
echo &quot;- Nginx: $(nginx -v 2&gt;&amp;1 | cut -d &#39;/&#39; -f 2)&quot;
echo &quot;- Docker: $(docker --version)&quot;
echo &quot;- T∆∞·ªùng l·ª≠a (UFW): $(ufw status | grep &#39;Status&#39;)&quot;
echo &quot;L∆ØU √ù: H√£y Logout v√† Login l·∫°i ƒë·ªÉ √°p d·ª•ng quy·ªÅn Docker nh√©!&quot;
</code></pre>
<hr>
<h3>L·ªùi k·∫øt</h3>
<p>V·∫≠y l√† xong! Ch·ªâ m·∫•t t·∫ßm 2-3 ph√∫t ch·∫°y script, b·∫°n ƒë√£ bi·∫øn m·ªôt con server &quot;tr·∫Øng tr∆°n&quot; th√†nh m·ªôt m√¥i tr∆∞·ªùng ƒë·∫ßy ƒë·ªß ti·ªán nghi, b·∫£o m·∫≠t c∆° b·∫£n t·ªët v√† s·∫µn s√†ng ch·∫°y Docker.</p>
<p>Hy v·ªçng c√°i script nh·ªè n√†y gi√∫p √≠ch cho anh em trong qu√° tr√¨nh &quot;v·ªçc v·∫°ch&quot; server. N·∫øu anh em th·∫•y c√≤n thi·∫øu m√≥n &quot;ƒë·ªì ch∆°i&quot; n√†o quan tr·ªçng n·ªØa th√¨ comment b√™n d∆∞·ªõi ƒë·ªÉ m√¨nh b·ªï sung v√†o script nh√©!</p>

        </div>
    </article>

    <div style="margin-top: 40px;">
        <a href="/dulkanggg/">&larr; Back to Home</a>
    </div>

    <footer>
    <p>&copy; 2025 Khang. All rights reserved.</p>
    <div class="social-links">
        <a href="https://github.com/khanchannn" target="_blank">GitHub</a>
        <a href="https://www.facebook.com/dulkanggg1504/" target="_blank">Facebook</a>
        <a href="mailto:dulkanggg1504@gmail.com">Email</a>
    </div>
</footer>
</div> <!-- End container -->
</body>

</html>